"use client"
import React, { PropsWithChildren, useMemo } from "react"
import { createContext } from "react"
import {
    useConnectDisclosureCore,
    useExportPrivateKeyDisclosureCore,
    useConfirmTOTPDisclosureCore,
    useDepositDisclosureCore,
    useUpdateExplorerDisclosureCore,
    useUpdateRpcsDisclosureCore,
    useSelectPoolsDisclosureCore,
    useSelectTokenDisclosureCore,
    useSignInDisclosureCore,
    useManageMFASettingsDisclosureCore,
    useMFAVerificationDisclosureCore,
    usePositionDisclosureCore,
    useMenuDisclosureCore,
    useUpdatePoolsDisclosureCore,
    useSortByDisclosureCore,
    useWithdrawDisclosureCore,
    useRequireMFADisclosureCore,
} from "./core"

export interface DiscloresureContextType {
    connect: ReturnType<typeof useConnectDisclosureCore>
    exportPrivateKey: ReturnType<typeof useExportPrivateKeyDisclosureCore>
    confirmTOTP: ReturnType<typeof useConfirmTOTPDisclosureCore>
    deposit: ReturnType<typeof useDepositDisclosureCore>
    updateExplorer: ReturnType<typeof useUpdateExplorerDisclosureCore>
    updateRpcs: ReturnType<typeof useUpdateRpcsDisclosureCore>
    selectPools: ReturnType<typeof useSelectPoolsDisclosureCore>
    selectToken: ReturnType<typeof useSelectTokenDisclosureCore>
    signIn: ReturnType<typeof useSignInDisclosureCore>
    manageMFASettings: ReturnType<typeof useManageMFASettingsDisclosureCore>
    mfaVerification: ReturnType<typeof useMFAVerificationDisclosureCore>
    position: ReturnType<typeof usePositionDisclosureCore>
    menu: ReturnType<typeof useMenuDisclosureCore>
    updatePools: ReturnType<typeof useUpdatePoolsDisclosureCore>
    sortBy: ReturnType<typeof useSortByDisclosureCore>
    withdraw: ReturnType<typeof useWithdrawDisclosureCore>
    requireMFA: ReturnType<typeof useRequireMFADisclosureCore>
}

export const DiscloresureContext = createContext<DiscloresureContextType | null>(null)

export const DiscloresureProvider = ({ children }: PropsWithChildren) => {
    const connect = useConnectDisclosureCore()
    const exportPrivateKey = useExportPrivateKeyDisclosureCore()
    const confirmTOTP = useConfirmTOTPDisclosureCore()
    const deposit = useDepositDisclosureCore()
    const updateExplorer = useUpdateExplorerDisclosureCore()
    const updateRpcs = useUpdateRpcsDisclosureCore()
    const selectPools = useSelectPoolsDisclosureCore()
    const selectToken = useSelectTokenDisclosureCore()
    const signIn = useSignInDisclosureCore()
    const manageMFASettings = useManageMFASettingsDisclosureCore()
    const mfaVerification = useMFAVerificationDisclosureCore()
    const position = usePositionDisclosureCore()
    const menu = useMenuDisclosureCore()
    const updatePools = useUpdatePoolsDisclosureCore()
    const sortBy = useSortByDisclosureCore()
    const withdraw = useWithdrawDisclosureCore()
    const requireMFA = useRequireMFADisclosureCore()
    const value = useMemo(() => ({
        connect, 
        exportPrivateKey, 
        confirmTOTP, 
        deposit, 
        updateExplorer, 
        updateRpcs,
        selectPools,
        selectToken,
        signIn,
        manageMFASettings,
        mfaVerification,
        position,
        menu,
        updatePools,
        sortBy,
        withdraw,
        requireMFA
    }), [
        connect, 
        exportPrivateKey, 
        confirmTOTP, 
        deposit, 
        updateExplorer, 
        updateRpcs,
        selectPools,
        selectToken,
        signIn,
        manageMFASettings,
        mfaVerification,
        position,
        menu,
        updatePools,
        sortBy,
        withdraw,
        requireMFA
    ])
    return (
        <DiscloresureContext.Provider value={value}>
            {children}
        </DiscloresureContext.Provider>
    )
}